<div class="container mt-5">
  <div class="card border-1">
    <div class="card-body">
      <form #courseForm="ngForm" (ngSubmit)="onSubmit(courseForm)" novalidate>
        <div class="row g-3">

          <!-- Course Dropdown -->
          <div class="col-md-12">
            <div class="floating">
              <select
                name="courseId"
                class="form-select"
                [(ngModel)]="courseOffering.detailDto!.courseId"
                #courseId="ngModel"
                (focus)="isCourseFocused = true"
                (blur)="isCourseFocused = false"
                [ngClass]="{ 'active': courseOffering.detailDto!.courseId || isCourseFocused }"
                required
              >
                <option *ngFor="let c of courseOffering.courses" [value]="c.id">
                  {{ c.name }}
                </option>
              </select>
              <label>Course *</label>
            </div>
            <div class="text-danger small" *ngIf="courseId.invalid && courseId.touched">
              Course is required
            </div>
          </div>

          <!-- Term Dropdown -->
          <div class="col-md-12">
            <div class="floating">
              <select
                name="termId"
                class="form-select"
                [(ngModel)]="courseOffering.detailDto!.termId"
                #termId="ngModel"
                (focus)="isTermFocused = true"
                (blur)="isTermFocused = false"
                [ngClass]="{ 'active': courseOffering.detailDto!.termId || isTermFocused }"
                required
              >
                <option *ngFor="let t of courseOffering.terms" [value]="t.id">
                  {{ t.name }}
                </option>
              </select>
              <label>Term *</label>
            </div>
            <div class="text-danger small" *ngIf="termId.invalid && termId.touched">
              Term is required
            </div>
          </div>

          <!-- Instructor Dropdown -->
          <div class="col-md-12">
            <div class="floating">
              <select
                name="instructorId"
                class="form-select"
                [(ngModel)]="courseOffering.detailDto!.instructorId"
                #instructorId="ngModel"
                (focus)="isInstructorFocused = true"
                (blur)="isInstructorFocused = false"
                [ngClass]="{ 'active': courseOffering.detailDto!.instructorId || isInstructorFocused }"
                required
              >
                <option *ngFor="let i of courseOffering.instructors" [value]="i.id">
                  {{ i.name }}
                </option>
              </select>
              <label>Instructor *</label>
            </div>
            <div class="text-danger small" *ngIf="instructorId.invalid && instructorId.touched">
              Instructor is required
            </div>
          </div>

        </div>

        <!-- Action Buttons -->
        <div class="mt-4 d-flex justify-content-end">
          <button type="button" class="btn btn-secondary me-2" (click)="onCancel()">
            Cancel
          </button>

          <button type="submit" class="btn btn-primary">
            {{
              courseOffering.detailDto!.id !== '00000000-0000-0000-0000-000000000000'
                ? 'Update Course Offering'
                : 'Create Course Offering'
            }}
          </button>
        </div>

      </form>
    </div>
  </div>
</div>
